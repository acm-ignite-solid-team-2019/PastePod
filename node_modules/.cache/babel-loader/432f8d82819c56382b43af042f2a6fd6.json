{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"/home/evan/Documents/Solid/solid-app/solid-ignite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"@comunica/core\");\n/**\n * A comunica mediator that goes over all actors in sequence and forwards I/O.\n * This required the action input and the actor output to be of the same type.\n */\n\n\nvar MediatorCombinePipeline =\n/*#__PURE__*/\nfunction (_core_1$Mediator) {\n  _inherits(MediatorCombinePipeline, _core_1$Mediator);\n\n  function MediatorCombinePipeline(args) {\n    _classCallCheck(this, MediatorCombinePipeline);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MediatorCombinePipeline).call(this, args));\n  }\n\n  _createClass(MediatorCombinePipeline, [{\n    key: \"mediate\",\n    value: function () {\n      var _mediate = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(action) {\n        var testResults, handle, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, actor;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                testResults = this.publish(action);\n                _context.next = 7;\n                break;\n\n              case 4:\n                _context.prev = 4;\n                _context.t0 = _context[\"catch\"](0);\n                return _context.abrupt(\"return\", action);\n\n              case 7:\n                _context.next = 9;\n                return Promise.all(require('lodash.map')(testResults, 'reply'));\n\n              case 9:\n                // Pass action to first actor,\n                // and each actor output as input to the following actor.\n                handle = action;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context.prev = 13;\n                _iterator = testResults.map(function (result) {\n                  return result.actor;\n                })[Symbol.iterator]();\n\n              case 15:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context.next = 23;\n                  break;\n                }\n\n                actor = _step.value;\n                _context.next = 19;\n                return actor.runObservable(handle);\n\n              case 19:\n                handle = _context.sent;\n\n              case 20:\n                _iteratorNormalCompletion = true;\n                _context.next = 15;\n                break;\n\n              case 23:\n                _context.next = 29;\n                break;\n\n              case 25:\n                _context.prev = 25;\n                _context.t1 = _context[\"catch\"](13);\n                _didIteratorError = true;\n                _iteratorError = _context.t1;\n\n              case 29:\n                _context.prev = 29;\n                _context.prev = 30;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 32:\n                _context.prev = 32;\n\n                if (!_didIteratorError) {\n                  _context.next = 35;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 35:\n                return _context.finish(32);\n\n              case 36:\n                return _context.finish(29);\n\n              case 37:\n                return _context.abrupt(\"return\", handle);\n\n              case 38:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 4], [13, 25, 29, 37], [30,, 32, 36]]);\n      }));\n\n      function mediate(_x) {\n        return _mediate.apply(this, arguments);\n      }\n\n      return mediate;\n    }()\n  }, {\n    key: \"mediateWith\",\n    value: function mediateWith(action, testResults) {\n      throw new Error(\"Method not supported.\");\n    }\n  }]);\n\n  return MediatorCombinePipeline;\n}(core_1.Mediator);\n\nexports.MediatorCombinePipeline = MediatorCombinePipeline;","map":null,"metadata":{},"sourceType":"script"}